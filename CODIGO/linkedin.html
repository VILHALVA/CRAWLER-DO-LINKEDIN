<head>
    <title>LinkedIn Crawler</title>
    <script>
        document.addEventListener('click', function(event) {
            var target = event.target;
            if (target.tagName.toLowerCase() == 'a')
            {
                var port = target.getAttribute('href').match(/^:(\d+)(.*)/);
                if (port)
                {
                    target.href = port[2];
                    target.port = port[1];
                }
            }
        }, false);
    </script>
</head>

<body>
    <h2>LinkedIn Crawler</h2>
    <p><b>Purpose</b>: generate sales opportunities by drawing attention to your organization via LinkedIn profile views.</p>

    <p>The searcher's network will be used to generate leads based on the provided search criteria. The viewers, in addition to the searcher, will "view" the LinkedIn profiles of the leads as the crawl is executed. This will generate notifications on the lead's LinkedIn page.</p>
    <p>Lead profiles will only be viewed one time by the viewer &amp; searcher set; once in the database, if discovered again in a different search, the lead will be ignored.</p>
    <hr/>

    {{>search}}
    <hr/>
    <h2>Status</h2>
    {{>status}}
    <hr/>
    {{>users}}
</body>

<template name="search">
    <h3>Credentials</h3>

    <form class="search">
        <table width="100%">
            <tr>
                <td width="20%"><h4>Searcher</h4></td>
                <td width="80%"><h4>Viewers</h4></td>
            </tr>
        </table>

        <div id="content">
            <!-- Searcher -->
            <div style="width: 18%; float:left">
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" class="form-control" id="email" placeholder="Email address">
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" class="form-control" id="password" placeholder="Password">
                </div>
            </div>
            <div style="width: 80%; float:right">
                <!-- Viewer 1 -->
                <div style="width: 25%; float:left">
                    <div class="form-group">
                        <label for="email-viewer-1">Email Address</label>
                        <input type="email" class="form-control" id="email-viewer-1" placeholder="Email address">
                    </div>
                    <div class="form-group">
                        <label for="password-viewer-1">Password</label>
                        <input type="password" class="form-control" id="password-viewer-1" placeholder="Password">
                    </div>
                </div>
                <!-- Viewer 2 -->
                <div style="width: 25%; float:left">
                    <div class="form-group">
                        <label for="email-viewer-2">Email Address</label>
                        <input type="email" class="form-control" id="email-viewer-2" placeholder="Email address">
                    </div>
                    <div class="form-group">
                        <label for="password-viewer-2">Password</label>
                        <input type="password" class="form-control" id="password-viewer-2" placeholder="Password">
                    </div>
                </div>
                <!-- Viewer 3 -->
                <div style="width: 25%; float:left">
                    <div class="form-group">
                        <label for="email-viewer-3">Email Address</label>
                        <input type="email" class="form-control" id="email-viewer-3" placeholder="Email address">
                    </div>
                    <div class="form-group">
                        <label for="password-viewer-3">Password</label>
                        <input type="password" class="form-control" id="password-viewer-3" placeholder="Password">
                    </div>
                </div>
                <!-- Viewer 4 -->
                <div style="width: 25%; float:left">
                    <div class="form-group">
                        <label for="email-viewer-4">Email Address</label>
                        <input type="email" class="form-control" id="email-viewer-4" placeholder="Email address">
                    </div>
                    <div class="form-group">
                        <label for="password-viewer-4">Password</label>
                        <input type="password" class="form-control" id="password-viewer-4" placeholder="Password">
                    </div>
                </div>
                <br style="clear:both;"/>
            </div>

            <br style="clear:both;"/>
        </div>
        <hr/>

        <h3>Criteria</h3>
        <p>To define multiple search keywords or locations, provide comma-separated input, e.g. "Palo Alto, San Francisco".</p>

        <div class="form-group">
            <label for="text">Search Keywords</label>
            <input type="text" class="form-control" id="keywords" placeholder="Enter search keywords">
        </div>
        <div class="form-group">
            <label for="locations">Locations</label>
            <input type="text" class="form-control" id="locations" placeholder="Enter locations">
        </div>
        <button name="submit" type="submit" class="btn btn-default" disabled>Crawl</button>
    </form>
</template>

<template name="status">
    <div id="status">
        <span>N/A</span>
    </div>
</template>

<template name="users">
    <h2>Crawled Profiles</h2>
    <p>Total crawled: {{count}}</p>
    <p><a href=":9000/leads.csv" download>Download full CSV</a></p>
</template>
